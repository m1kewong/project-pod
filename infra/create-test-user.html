<!DOCTYPE html>
<html>
<head>
  <title>Create Test User</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script>
    // Initialize Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyBLkaaslwRrvwr5W2p2-sEpoPx1TRHdRZI",
      authDomain: "project-pod-dev.firebaseapp.com",
      projectId: "project-pod-dev",
      storageBucket: "project-pod-dev.firebasestorage.app",
      messagingSenderId: "56249782826",
      appId: "1:56249782826:web:d4a70d544ad8e2abc92953"
    };
    
    firebase.initializeApp(firebaseConfig);
    
    async function createTestUser() {
      try {
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        
        // Create user
        const userCredential = await firebase.auth().createUserWithEmailAndPassword(email, password);
        
        // Update profile
        await userCredential.user.updateProfile({
          displayName: "Test User"
        });
        
        // Create user document in Firestore
        await firebase.firestore().collection('users').doc(userCredential.user.uid).set({
          uid: userCredential.user.uid,
          email: email,
          displayName: "Test User",
          photoURL: null,
          isAnonymous: false,
          createdAt: firebase.firestore.FieldValue.serverTimestamp(),
          updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
          lastLoginAt: firebase.firestore.FieldValue.serverTimestamp(),
          videoCount: 0,
          followerCount: 0,
          followingCount: 0,
          likeCount: 0,
          bio: "This is a test account",
          website: "",
          location: "Test Location",
          deviceToken: "",
          settings: {
            notifications: true,
            darkMode: false,
            privateAccount: false,
          },
          accountType: "test",
          joinDate: firebase.firestore.FieldValue.serverTimestamp(),
        });
        
        document.getElementById('result').textContent = `User created successfully! UID: ${userCredential.user.uid}`;
      } catch (error) {
        document.getElementById('result').textContent = `Error: ${error.message}`;
      }
    }
  </script>
</head>
<body>
  <h2>Create Test User</h2>
  <div>
    <label for="email">Email:</label>
    <input type="email" id="email" value="test@example.com">
  </div>
  <div>
    <label for="password">Password:</label>
    <input type="password" id="password" value="Test123!">
  </div>
  <button onclick="createTestUser()">Create User</button>
  <div id="result" style="margin-top: 20px;"></div>
</body>
</html>
